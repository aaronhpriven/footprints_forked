{% extends 'base.html' %}

{% block title %}Written Work{% endblock %}

{% block css %}
{% endblock %}

{% block extrahead %}
{% endblock %}

{% block js %}
{% endblock %}

{% block extrajs %}
    {% comment %}assets that do not need to be compressed{% endcomment %}
{% endblock %}

{% block content %}
{% with work=object %}

    <div class="object-detail writtenwork">
        <div class="row">
            <div class="col-md-8">
                <div class="breadcrumb">WRITTEN WORK</div>
                <h2>
                    <span class="glyphicon glyphicon-book pull-left" aria-hidden="true"></span>
                    <span class="pull-left object-title">{{work}}</span>
                    <div class="clearfix"></div>
                </h2>

                {% if work.actor.count > 0 %}
                <h3>People</h3>
                <dl class="dl-horizontal">
                    {% for actor in work.actor.all %}
                        <dt>{{actor.role}}</dt><dd><a href="/person/{{actor.person.id}}/">{{actor}}</a></dd>
                    {% endfor %}
                </dl>
                {% endif %}
                
                {% if work.notes %}
                    <h3>Notes</h3>
                    {{work.notes|safe}}
                {% endif %}

                <h3>Imprints</h3>
                <ul>
                {% for imprint in work.imprint_set.all %}
                    <li>
                        <a href="/imprint/{{imprint.id}}/">{{imprint}}</a>
                    
                        {% if imprint.bookcopy_set.count > 0 %}
                            <h5>Book Copies ({{imprint.bookcopy_set.count}})</h5>
                            <ol>
                            {% for copy in imprint.bookcopy_set.all %}
                                <li><a href="/book/{{copy.id}}/">{{copy}}</a></li>
                            {% endfor %}
                            </ol>
                        {% endif %}
                    </li>
                {% endfor %}
                </ul>
            </div>
            <div class="col-md-4">
                <div class="sidebar-box">
                    {% with complete=work.percent_complete %}
                        <h4>Record Progress</h4>
                        <div>
                            <div class="progress pull-left">
                                <div class="progress-bar" role="progressbar"
                                    aria-valuenow="{{complete}}" aria-valuemin="0"
                                    aria-valuemax="100" style="width: {{complete}}%;">
                                </div>
                            </div>
                            <div class="progress-report pull-right">{{complete}}% complete</div>
                        </div>
                        <div class="clearfix"></div>
                        {% if editable %}
                        <div>
                            <strong>Do you know something important?</strong>
                            <p>Praesent fringilla sit amet dolor at congue. Fusce pretium neque rutrum luctus dictum.</p>
                            <button class="btn btn-sm btn-primary pull-right">Save</button>&nbsp;
                            <button class="btn btn-sm btn-default pull-right" style="margin-right: 6px;">Skip</button>
                        </div>
                        {% endif %}
                    {% endwith %}
                    <div class="clearfix"></div>
                </div>
            </div>        
        </div>
    </div>
{% endwith %} 
{% endblock %}
